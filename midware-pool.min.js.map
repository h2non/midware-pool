{"version":3,"sources":["./midware-pool.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","midwarePool","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"midware","MiddlewarePool","parent","ctx","pool","Object","create","useParent","prototype","registered","name","flush","stack","splice","flushAll","remove","fn","useCtx","TypeError","use","args","toArr","arguments","Array","isArray","apply","runParent","done","run","concat","pop","err","end","middleware","slice","index",2,"root","factory","calls","toArray","filter","forEach","push","next","runNext","shift","nargs","VERSION"],"mappings":"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"}