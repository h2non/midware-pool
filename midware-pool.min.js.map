{"version":3,"sources":["./midware-pool.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","midwarePool","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"midware","toString","Object","prototype","MiddlewarePool","parent","ctx","pool","create","useParent","registered","name","flush","stack","splice","flushAll","remove","fn","useCtx","TypeError","use","args","toArr","arguments","isArgs","Array","isArray","apply","runParent","done","run","concat","pop","err","end","middleware","cargs","slice","index",2,"root","factory","calls","toArray","filter","forEach","push","next","runNext","shift","nargs","VERSION"],"mappings":"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"}